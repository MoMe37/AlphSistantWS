<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
		<title>Visit AR</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sora:500">
    <link rel="stylesheet" href="./public/css/style.css">
    
    <!-- <script type="module" src="script.js"></script> -->
    <script src="audio.js" defer></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.19.1/full/pyodide.js"></script>
  </head>

  <body>
    <header class="header">
        <nav class="nav">
            <a href="index.html"><h1>AlphSistant</h1></a>
            <a class="nav__link" href="#">About</a>
            <a class="nav__link" href="#">Blog</a>
            <a class="nav__link" href="#">FAQ</a>
        </nav>
    </header>

    <!--<canvas class="webgl"></canvas>-->

    <div class="hero-banner">

      <!--button for 'start recording'-->
      <div class="hero-banner_btn">
        <button class="btn" id="btnStart">Start Recording</button>
          
        <button class="btn" id="btnStop">Stop Recording</button>

        <button class="btn" id="btnStartAnimation">Play Animation</button>
      </div>
      <!--button for 'stop recording'-->

      <audio id="adioPlay" controls></audio>

      <script>
        async function main(){
          const pyodide = await loadPyodide({
            indexURL : "https://cdn.jsdelivr.net/pyodide/v0.19.1/full/"
          });
          console.log();

          const btnState = document.getElementById('btnStartAnimation');

          btnState.addEventListener('click', (e) => {
            e.preventDefault();

            pyodide.runPython(`
              import librosa

              def create_animation():
                samples, sample_rate = librosa.load("./public/audio/sa1.wav", sr=None)
                return f'le sample rate est : {sample_rate}'
            `);

            alert(pyodide.runPython("3"))
          });
        }

        main();
        
      </script>

    </div>

  </body>

</html>